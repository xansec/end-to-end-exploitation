# Lab 1: Number_of_Images

## Overview

Examine [rewrite_nitf.py](rewrite_nitf.py). This script has multiple functions which will walk us through applying techniques to our target.
Completing each lab will result in an output file <lab#.nitf>. Each file can be used to debug the execution of extract75 for the next lab.
Set the value of FILESTART to 0x16b.
Now you are ready to start.

**Time to complete**: About 15 minutes

## lab1_numi()

Examine lab1_numi().  There are a number of TODO comments next to variables which will need to be defined.
Use gdb and the `/mayhem/defects/5315fb378c56843434354a742b47e0c42fb8f7f82cde45c2156acbe7a7bd3a66531` file to locate the correct values.
_Hint:_  `info addr <varname>` is a useful gdb command.


#### Walkthrough

Try the steps outlined here if you're stuck.

1. Find the addresses of `sBuffer` and `number_of_images`
2. Fill them out in `rewrite_nitf.py`:
    - `numi_addr` is `number_of_images`
    - `sBuffer`
    - Set `numi` to be a positive number such that `numi>=2`
    - `FILESTART` is `0x16b` (extra credit: why?)
3. Set a breakpoint at `extract.c:724` , run, and observe the value of `number_of_images` AND `image_info` before and after `read_verify` (use the `n` gdb command)
